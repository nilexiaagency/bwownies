{% doc %}
  Renders a collection list item

  @param {collection} collection - The collection to display
{% enddoc %}

<section
  class="nx:lg:grid nx:grid-cols-12 nx:lg:gap-10 nx:lg:scroll-mt-40"
  id="{{ section.id }}-{{ collection.handle }}"
  x-intersect:enter="setCurrentCollection('{{ section.id }}-{{ collection.handle }}')"
>
  <header class="mb-8 nx:lg:col-span-4 nx:lg:self-start nx:lg:sticky nx:lg:top-40">
    <h2 class="nx:text-2xl">{{ collection.title }}</h2>
    {% if collection.description %}
      <div class="nx:font-sans nx:mt-4 nx:leading-tight">
        {{ collection.description }}
      </div>
    {% endif %}
  </header>
  <main class="nx:grid nx:grid-cols-2 nx:gap-4 nx:md:grid-cols-3 nx:lg:col-span-8">
    {% for product in collection.products limit: 6 %}
      {% render 'product-card', product: product %}
    {% endfor %}
    {% if collection.products.size > 6 %}
      <a
        href="{{ collection.url }}"
        class="nx:bg-bright-pink p-2.5 nx:rounded-lg nx:font-display nx:text-white nx:text-center nx:w-fit nx:px-4 nx:justify-self-center nx:md:col-start-2 nx:mt-6"
        >View all {{ collection.title -}}
      </a>
    {% endif %}
  </main>
</section>
